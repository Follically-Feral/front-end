<div class="row">
    <div class="col-md-12">
        <h3>{{title}}</h3>
    </div>
    <div class="col-md-12">
        <div *ngFor="#message of messages" class="message col-md-4">
            <div [hidden]="!message.error" class="alert alert-danger">
                {{message.error}}
            </div>
            <div [hidden]="!message.success" class="alert alert-success">
                {{message.success}}
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <form class="user-detail-form" (ngSubmit)="onSubmit()" #userDetailForm="ngForm">
            <div class="form-group">
                <label for="username">Username</label>
                <input id="username" type="text" class="form-control" [(ngModel)]="user.username" readonly>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input id="email" type="text" class="form-control" required ngControl="email"
                       #email="ngForm" [(ngModel)]="user.email" placeholder="Email Address">

                <div [hidden]="email.valid || email.pristine">
                    Email is required
                </div>
            </div>
            <div class="form-group">
                <label for="forename">Forename</label>
                <input id="forename" type="text" class="form-control" required ngControl="forename"
                       #forename="ngForm" [(ngModel)]="user.forename" placeholder="Forename">

                <div [hidden]="forename.valid || forename.pristine">
                    Forename is required
                </div>
            </div>
            <div class="form-group">
                <label for="surname">Surname</label>
                <input id="surname" type="text" class="form-control" required ngControl="surname"
                       #surname="ngForm" [(ngModel)]="user.surname" placeholder="Surname">

                <div [hidden]="surname.valid || surname.pristine">
                    Surname is required
                </div>
            </div>
            <div class="form-group">
                <label for="role">Role</label>
                <select id="role" class="form-control" ngControl="role" #role="ngForm" (change)="selectRole($event)">
                    <option *ngFor="#role of roles" [value]="role" [selected]="role == user.role">{{role}}</option>
                </select>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-default" [disabled]="!userDetailForm.form.valid">Submit</button>
            </div>
        </form>
    </div>
</div>